"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
Object.defineProperty(exports, "wrapRootElement", {
  enumerable: true,
  get: function get() {
    return _wrapRootElement.wrapRootElement;
  }
});
exports.onRouteUpdate = void 0;

var _utils = require("./utils");

var _wrapRootElement = require("./wrapRootElement");

var isTwttrScriptAdded = false;
var twttrClassNames = [".twitter-tweet", ".twitter-timeline", ".twitter-follow-button", ".twitter-mention-button", ".twitter-hashtag-button"].join(",");
var twttrEmbedScript = "\n!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\")\n";

var twttrLoad = function twttrLoad() {
  console.log('twttrLoad');

  if (typeof window.twttr !== "undefined" && window.twttr.widgets && typeof window.twttr.widgets.load === "function") {
    window.twttr.widgets.load(document.getElementById("___gatsby"));
  }
};

var isInstgrmScriptAdded = false;
var instgrmClassNames = [".instagram-media", ".instagram-media-rendered"].join(",");
var instgrmEmbedUrl = "https://www.instagram.com/embed.js";

var instgrmProcess = function instgrmProcess() {
  console.log('instgrmProcess');

  if (typeof window.instgrm !== "undefined" && window.instgrm.Embeds && typeof window.instgrm.Embeds.process === "function") {
    window.instgrm.Embeds.process();
  }
};

var isFlickrScriptAdded = false;
var flickrEmbedClassNames = [".flickr-embed-mdx"].join(",");
var flickrEmbedUrl = "https://embedr.flickr.com/assets/client-code.js";
var isPinterestScriptAdded = false;
var pinterestEmbedClassNames = [".pinterest-pin", ".pinterest-board", ".pinterest-follow-button"].join(",");
var pinterestEmbedScript = "!function(a,b,c){var d,e,f;d=\"PIN_\"+~~((new Date).getTime()/864e5),a[d]?a[d]+=1:(a[d]=1,a.setTimeout(function(){e=b.getElementsByTagName(\"SCRIPT\")[0],f=b.createElement(\"SCRIPT\"),f.type=\"text/javascript\",f.async=!0,f.src=c.mainUrl+\"?\"+Math.random(),e.parentNode.insertBefore(f,e)},10))}(window,document,{mainUrl:\"//assets.pinterest.com/js/pinit_main.js\"});";

var pinterestBuild = function pinterestBuild() {
  console.log('pinterestBuild');

  if (typeof window.PinUtils !== "undefined" && window.PinUtils && typeof window.PinUtils.build === "function") {
    window.PinUtils.build();
  }
};

var onRouteUpdate = function onRouteUpdate() {
  console.log('onRouteUpdate');

  if (document.querySelector(twttrClassNames) !== null) {
    if (!isTwttrScriptAdded) {
      (0, _utils.createScriptTag)(null, twttrEmbedScript);
      isTwttrScriptAdded = true;
    }
  }

  if (document.querySelector(instgrmClassNames) !== null) {
    if (!isInstgrmScriptAdded) {
      (0, _utils.createScriptTag)(instgrmEmbedUrl, null);
      isInstgrmScriptAdded = true;
    }
  }

  if (document.querySelector(flickrEmbedClassNames) !== null) {
    if (!isFlickrScriptAdded) {
      (0, _utils.createScriptTag)(flickrEmbedUrl, null);
      isFlickrScriptAdded = true;
    }
  }

  if (document.querySelector(pinterestEmbedClassNames) !== null) {
    if (!isPinterestScriptAdded) {
      (0, _utils.createScriptTag)(null, pinterestEmbedScript);
      isPinterestScriptAdded = true;
    }
  }

  pinterestBuild();
  twttrLoad();
  instgrmProcess();
};

exports.onRouteUpdate = onRouteUpdate;
console.log('////////// gatsby-browser.ts');
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9nYXRzYnktYnJvd3Nlci5qcyJdLCJuYW1lcyI6WyJpc1R3dHRyU2NyaXB0QWRkZWQiLCJ0d3R0ckNsYXNzTmFtZXMiLCJqb2luIiwidHd0dHJFbWJlZFNjcmlwdCIsInR3dHRyTG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ3aW5kb3ciLCJ0d3R0ciIsIndpZGdldHMiLCJsb2FkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlzSW5zdGdybVNjcmlwdEFkZGVkIiwiaW5zdGdybUNsYXNzTmFtZXMiLCJpbnN0Z3JtRW1iZWRVcmwiLCJpbnN0Z3JtUHJvY2VzcyIsImluc3Rncm0iLCJFbWJlZHMiLCJwcm9jZXNzIiwiaXNGbGlja3JTY3JpcHRBZGRlZCIsImZsaWNrckVtYmVkQ2xhc3NOYW1lcyIsImZsaWNrckVtYmVkVXJsIiwiaXNQaW50ZXJlc3RTY3JpcHRBZGRlZCIsInBpbnRlcmVzdEVtYmVkQ2xhc3NOYW1lcyIsInBpbnRlcmVzdEVtYmVkU2NyaXB0IiwicGludGVyZXN0QnVpbGQiLCJQaW5VdGlscyIsImJ1aWxkIiwib25Sb3V0ZVVwZGF0ZSIsInF1ZXJ5U2VsZWN0b3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxJQUFJQSxrQkFBa0IsR0FBRyxLQUF6QjtBQUNBLElBQU1DLGVBQWUsR0FBRyx3SEFNdEJDLElBTnNCLEtBQXhCO0FBT0EsSUFBTUMsZ0JBQWdCLGtTQUF0Qjs7QUFJQSxJQUFNQyxTQUFTLEdBQUcsU0FBWkEsU0FBWSxHQUFNO0FBQ3RCQyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxXQUFaOztBQUNBLE1BQ0UsT0FBT0MsTUFBTSxDQUFDQyxLQUFkLG9CQUNBRCxNQUFNLENBQUNDLEtBQVAsQ0FBYUMsT0FEYixJQUVBLE9BQU9GLE1BQU0sQ0FBQ0MsS0FBUCxDQUFhQyxPQUFiLENBQXFCQyxJQUE1QixlQUhGLEVBSUU7QUFDQUgsSUFBQUEsTUFBTSxDQUFDQyxLQUFQLENBQWFDLE9BQWIsQ0FBcUJDLElBQXJCLENBQTBCQyxRQUFRLENBQUNDLGNBQVQsYUFBMUI7QUFDRDtBQUNGLENBVEQ7O0FBV0EsSUFBSUMsb0JBQW9CLEdBQUcsS0FBM0I7QUFDQSxJQUFNQyxpQkFBaUIsR0FBRyxrREFHeEJaLElBSHdCLEtBQTFCO0FBSUEsSUFBTWEsZUFBZSx1Q0FBckI7O0FBRUEsSUFBTUMsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQixHQUFNO0FBQzNCWCxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWjs7QUFDQSxNQUNFLE9BQU9DLE1BQU0sQ0FBQ1UsT0FBZCxvQkFDQVYsTUFBTSxDQUFDVSxPQUFQLENBQWVDLE1BRGYsSUFFQSxPQUFPWCxNQUFNLENBQUNVLE9BQVAsQ0FBZUMsTUFBZixDQUFzQkMsT0FBN0IsZUFIRixFQUlFO0FBQ0FaLElBQUFBLE1BQU0sQ0FBQ1UsT0FBUCxDQUFlQyxNQUFmLENBQXNCQyxPQUF0QjtBQUNEO0FBQ0YsQ0FURDs7QUFXQSxJQUFJQyxtQkFBbUIsR0FBRyxLQUExQjtBQUNBLElBQU1DLHFCQUFxQixHQUFHLHNCQUFzQm5CLElBQXRCLEtBQTlCO0FBQ0EsSUFBTW9CLGNBQWMsb0RBQXBCO0FBRUEsSUFBSUMsc0JBQXNCLEdBQUcsS0FBN0I7QUFDQSxJQUFNQyx3QkFBd0IsR0FBRyxtRUFJL0J0QixJQUorQixLQUFqQztBQUtBLElBQU11QixvQkFBb0Isb1hBQTFCOztBQUVBLElBQU1DLGNBQWMsR0FBRyxTQUFqQkEsY0FBaUIsR0FBTTtBQUMzQnJCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaOztBQUNBLE1BQ0UsT0FBT0MsTUFBTSxDQUFDb0IsUUFBZCxvQkFDQXBCLE1BQU0sQ0FBQ29CLFFBRFAsSUFFQSxPQUFPcEIsTUFBTSxDQUFDb0IsUUFBUCxDQUFnQkMsS0FBdkIsZUFIRixFQUlFO0FBQ0FyQixJQUFBQSxNQUFNLENBQUNvQixRQUFQLENBQWdCQyxLQUFoQjtBQUNEO0FBQ0YsQ0FURDs7QUFXTyxJQUFNQyxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLEdBQU07QUFDakN4QixFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaOztBQUNBLE1BQUlLLFFBQVEsQ0FBQ21CLGFBQVQsQ0FBdUI3QixlQUF2QixNQUE0QyxJQUFoRCxFQUFzRDtBQUNwRCxRQUFJLENBQUNELGtCQUFMLEVBQXlCO0FBQ3ZCLGtDQUFnQixJQUFoQixFQUFzQkcsZ0JBQXRCO0FBQ0FILE1BQUFBLGtCQUFrQixHQUFHLElBQXJCO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJVyxRQUFRLENBQUNtQixhQUFULENBQXVCaEIsaUJBQXZCLE1BQThDLElBQWxELEVBQXdEO0FBQ3RELFFBQUksQ0FBQ0Qsb0JBQUwsRUFBMkI7QUFDekIsa0NBQWdCRSxlQUFoQixFQUFpQyxJQUFqQztBQUNBRixNQUFBQSxvQkFBb0IsR0FBRyxJQUF2QjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSUYsUUFBUSxDQUFDbUIsYUFBVCxDQUF1QlQscUJBQXZCLE1BQWtELElBQXRELEVBQTREO0FBQzFELFFBQUksQ0FBQ0QsbUJBQUwsRUFBMEI7QUFDeEIsa0NBQWdCRSxjQUFoQixFQUFnQyxJQUFoQztBQUNBRixNQUFBQSxtQkFBbUIsR0FBRyxJQUF0QjtBQUNEO0FBQ0Y7O0FBRUQsTUFBSVQsUUFBUSxDQUFDbUIsYUFBVCxDQUF1Qk4sd0JBQXZCLE1BQXFELElBQXpELEVBQStEO0FBQzdELFFBQUksQ0FBQ0Qsc0JBQUwsRUFBNkI7QUFDM0Isa0NBQWdCLElBQWhCLEVBQXNCRSxvQkFBdEI7QUFDQUYsTUFBQUEsc0JBQXNCLEdBQUcsSUFBekI7QUFDRDtBQUNGOztBQUVERyxFQUFBQSxjQUFjO0FBQ2R0QixFQUFBQSxTQUFTO0FBQ1RZLEVBQUFBLGNBQWM7QUFDZixDQWpDTTs7O0FBbUNQWCxPQUFPLENBQUNDLEdBQVIsQ0FBWSw4QkFBWiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVNjcmlwdFRhZyB9IGZyb20gJy4vdXRpbHMnXG5leHBvcnQgeyB3cmFwUm9vdEVsZW1lbnQgfSBmcm9tICcuL3dyYXBSb290RWxlbWVudCdcblxubGV0IGlzVHd0dHJTY3JpcHRBZGRlZCA9IGZhbHNlXG5jb25zdCB0d3R0ckNsYXNzTmFtZXMgPSBbXG4gIGAudHdpdHRlci10d2VldGAsXG4gIGAudHdpdHRlci10aW1lbGluZWAsXG4gIGAudHdpdHRlci1mb2xsb3ctYnV0dG9uYCxcbiAgYC50d2l0dGVyLW1lbnRpb24tYnV0dG9uYCxcbiAgYC50d2l0dGVyLWhhc2h0YWctYnV0dG9uYFxuXS5qb2luKGAsYClcbmNvbnN0IHR3dHRyRW1iZWRTY3JpcHQgPSBgXG4hZnVuY3Rpb24oZCxzLGlkKXt2YXIganMsZmpzPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF0scD0vXmh0dHA6Ly50ZXN0KGQubG9jYXRpb24pPydodHRwJzonaHR0cHMnO2lmKCFkLmdldEVsZW1lbnRCeUlkKGlkKSl7anM9ZC5jcmVhdGVFbGVtZW50KHMpO2pzLmlkPWlkO2pzLnNyYz1wK1wiOi8vcGxhdGZvcm0udHdpdHRlci5jb20vd2lkZ2V0cy5qc1wiO2Zqcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShqcyxmanMpO319KGRvY3VtZW50LFwic2NyaXB0XCIsXCJ0d2l0dGVyLXdqc1wiKVxuYFxuXG5jb25zdCB0d3R0ckxvYWQgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCd0d3R0ckxvYWQnKVxuICBpZiAoXG4gICAgdHlwZW9mIHdpbmRvdy50d3R0ciAhPT0gYHVuZGVmaW5lZGAgJiZcbiAgICB3aW5kb3cudHd0dHIud2lkZ2V0cyAmJlxuICAgIHR5cGVvZiB3aW5kb3cudHd0dHIud2lkZ2V0cy5sb2FkID09PSBgZnVuY3Rpb25gXG4gICkge1xuICAgIHdpbmRvdy50d3R0ci53aWRnZXRzLmxvYWQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYF9fX2dhdHNieWApKVxuICB9XG59XG5cbmxldCBpc0luc3Rncm1TY3JpcHRBZGRlZCA9IGZhbHNlXG5jb25zdCBpbnN0Z3JtQ2xhc3NOYW1lcyA9IFtcbiAgYC5pbnN0YWdyYW0tbWVkaWFgLFxuICBgLmluc3RhZ3JhbS1tZWRpYS1yZW5kZXJlZGBcbl0uam9pbihgLGApXG5jb25zdCBpbnN0Z3JtRW1iZWRVcmwgPSBgaHR0cHM6Ly93d3cuaW5zdGFncmFtLmNvbS9lbWJlZC5qc2BcblxuY29uc3QgaW5zdGdybVByb2Nlc3MgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdpbnN0Z3JtUHJvY2VzcycpXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93Lmluc3Rncm0gIT09IGB1bmRlZmluZWRgICYmXG4gICAgd2luZG93Lmluc3Rncm0uRW1iZWRzICYmXG4gICAgdHlwZW9mIHdpbmRvdy5pbnN0Z3JtLkVtYmVkcy5wcm9jZXNzID09PSBgZnVuY3Rpb25gXG4gICkge1xuICAgIHdpbmRvdy5pbnN0Z3JtLkVtYmVkcy5wcm9jZXNzKClcbiAgfVxufVxuXG5sZXQgaXNGbGlja3JTY3JpcHRBZGRlZCA9IGZhbHNlXG5jb25zdCBmbGlja3JFbWJlZENsYXNzTmFtZXMgPSBbYC5mbGlja3ItZW1iZWQtbWR4YF0uam9pbihgLGApXG5jb25zdCBmbGlja3JFbWJlZFVybCA9IGBodHRwczovL2VtYmVkci5mbGlja3IuY29tL2Fzc2V0cy9jbGllbnQtY29kZS5qc2BcblxubGV0IGlzUGludGVyZXN0U2NyaXB0QWRkZWQgPSBmYWxzZVxuY29uc3QgcGludGVyZXN0RW1iZWRDbGFzc05hbWVzID0gW1xuICBgLnBpbnRlcmVzdC1waW5gLFxuICBgLnBpbnRlcmVzdC1ib2FyZGAsXG4gIGAucGludGVyZXN0LWZvbGxvdy1idXR0b25gXG5dLmpvaW4oYCxgKVxuY29uc3QgcGludGVyZXN0RW1iZWRTY3JpcHQgPSBgIWZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlLGY7ZD1cIlBJTl9cIit+figobmV3IERhdGUpLmdldFRpbWUoKS84NjRlNSksYVtkXT9hW2RdKz0xOihhW2RdPTEsYS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZT1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiU0NSSVBUXCIpWzBdLGY9Yi5jcmVhdGVFbGVtZW50KFwiU0NSSVBUXCIpLGYudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLGYuYXN5bmM9ITAsZi5zcmM9Yy5tYWluVXJsK1wiP1wiK01hdGgucmFuZG9tKCksZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmLGUpfSwxMCkpfSh3aW5kb3csZG9jdW1lbnQse21haW5Vcmw6XCIvL2Fzc2V0cy5waW50ZXJlc3QuY29tL2pzL3Bpbml0X21haW4uanNcIn0pO2BcblxuY29uc3QgcGludGVyZXN0QnVpbGQgPSAoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdwaW50ZXJlc3RCdWlsZCcpXG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93LlBpblV0aWxzICE9PSBgdW5kZWZpbmVkYCAmJlxuICAgIHdpbmRvdy5QaW5VdGlscyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuUGluVXRpbHMuYnVpbGQgPT09IGBmdW5jdGlvbmBcbiAgKSB7XG4gICAgd2luZG93LlBpblV0aWxzLmJ1aWxkKClcbiAgfVxufVxuXG5leHBvcnQgY29uc3Qgb25Sb3V0ZVVwZGF0ZSA9ICgpID0+IHtcbiAgY29uc29sZS5sb2coJ29uUm91dGVVcGRhdGUnKVxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0d3R0ckNsYXNzTmFtZXMpICE9PSBudWxsKSB7XG4gICAgaWYgKCFpc1R3dHRyU2NyaXB0QWRkZWQpIHtcbiAgICAgIGNyZWF0ZVNjcmlwdFRhZyhudWxsLCB0d3R0ckVtYmVkU2NyaXB0KVxuICAgICAgaXNUd3R0clNjcmlwdEFkZGVkID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc3Rncm1DbGFzc05hbWVzKSAhPT0gbnVsbCkge1xuICAgIGlmICghaXNJbnN0Z3JtU2NyaXB0QWRkZWQpIHtcbiAgICAgIGNyZWF0ZVNjcmlwdFRhZyhpbnN0Z3JtRW1iZWRVcmwsIG51bGwpXG4gICAgICBpc0luc3Rncm1TY3JpcHRBZGRlZCA9IHRydWVcbiAgICB9XG4gIH1cblxuICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmbGlja3JFbWJlZENsYXNzTmFtZXMpICE9PSBudWxsKSB7XG4gICAgaWYgKCFpc0ZsaWNrclNjcmlwdEFkZGVkKSB7XG4gICAgICBjcmVhdGVTY3JpcHRUYWcoZmxpY2tyRW1iZWRVcmwsIG51bGwpXG4gICAgICBpc0ZsaWNrclNjcmlwdEFkZGVkID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBpbnRlcmVzdEVtYmVkQ2xhc3NOYW1lcykgIT09IG51bGwpIHtcbiAgICBpZiAoIWlzUGludGVyZXN0U2NyaXB0QWRkZWQpIHtcbiAgICAgIGNyZWF0ZVNjcmlwdFRhZyhudWxsLCBwaW50ZXJlc3RFbWJlZFNjcmlwdClcbiAgICAgIGlzUGludGVyZXN0U2NyaXB0QWRkZWQgPSB0cnVlXG4gICAgfVxuICB9XG5cbiAgcGludGVyZXN0QnVpbGQoKVxuICB0d3R0ckxvYWQoKVxuICBpbnN0Z3JtUHJvY2VzcygpXG59XG5cbmNvbnNvbGUubG9nKCcvLy8vLy8vLy8vIGdhdHNieS1icm93c2VyLnRzJylcbiJdfQ==